{% extends "base_template.html" %}

{% block body %}
<div class="container search-container">
    <div class="row search-row justify-content-center">
        <div class="col-10">
            <div class="card">
              <div class="card-header">
                {{ book[2] }}, {{ book[3] }}
              </div>
              <div class="card-body">
                <h5 class="card-title">{{ book[1] }}</h5>
                <p class="card-text">
                    <strong>ISBN : </strong>{{ book[0] }}<br>
                    <strong>Number of reviews on Goodreads: </strong>{{ book[4] }} <br>
                    <strong>Average rating : </strong>{{ book[5] }} <br>
                </p>
                <a href="#review-form" class="btn btn-primary" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="review-form">Write a review</a>
              </div>
                <div class="collapse" id="review-form">
                <form action="{{ url_for('submit_review', isbn=book[0]) }}" method="post">
                    <div class="form-group review-form">
                        <input type="text" class="form-control" id="book-review" name="review" aria-describedby="emailHelp" placeholder="Write a short review.">
                        <div class="review-checkbox">
                            <strong>Rating : <br></strong>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="book-rating" id="rating1" value="1">
                            <label class="form-check-label" for="rating1">1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="book-rating" id="rating2" value="1">
                            <label class="form-check-label" for="rating2">2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="book-rating" id="rating3" value="3">
                            <label class="form-check-label" for="rating3">3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="book-rating" id="rating4" value="4">
                            <label class="form-check-label" for="rating4">4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="book-rating" id="rating5" value="5">
                            <label class="form-check-label" for="rating5">5</label>
                        </div>
                        </div>
                        <hr>
                        <button type="submit" class="btn btn-primary review-submit">Submit review</button>
                    </div>
                </form>
                </div>
            </div>

        </div>
    </div>
    <div class="row user-reviews justify-content-center">
        <div class="col-10 mt-10">
            <hr class="">
            <strong>User reviews:</strong>
        </div>
        {% for review in reviews %}
        <div class="col-10 mt-3">
        <div class="card bg-light mb-3">
          <div class="card-body">
            <h5 class="card-title"><strong>Rating : {{ review[4] }}</strong></h5>
            <p class="card-text">{{ review[3] }}</p>
          </div>
          <div class="card-footer">
              <small class="text-muted">@{{ review[1] }}</small>
          </div>
        </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}